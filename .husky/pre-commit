set -e  # Exit immediately if a command exits with a non-zero status

echo "Running lint-staged on staged files..."
npx lint-staged || { echo "❌ Lint-staged checks failed! Commit aborted."; exit 1; }

# echo "Checking unused dependencies..."
# npm run knip || { echo "❌ Unused dependencies check failed! Commit aborted."; exit 1; }

echo "Running tests..."
npm test || { echo "❌ Tests failed! Commit aborted."; exit 1; }

echo "✅ Pre-commit checks passed!"
